{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91970\\\\Desktop\\\\E-Mart-Group3\\\\my-app\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"../../styles/dashboard.css\";\nimport { ProductContext } from \"../../context/ProductContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const {\n    products,\n    setProducts\n  } = useContext(ProductContext);\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const response = await fetch(`http://localhost:8080/users/{userId}`);\n        const data = await response.json();\n        setUser(data);\n      } catch (error) {\n        console.error(\"Error fetching user:\", error);\n      }\n    };\n    const fetchProducts = async () => {\n      try {\n        const response = await fetch(\"http://localhost:8080/api/products\");\n        const data = await response.json();\n        setProducts(data);\n      } catch (error) {\n        console.error(\"Error fetching products:\", error);\n      }\n      setLoading(false);\n    };\n    fetchUser();\n    fetchProducts();\n  }, [setProducts]);\n  const calculateFinalPrice = product => {\n    let finalPrice = product.price;\n    if (user !== null && user !== void 0 && user.isMember) {\n      finalPrice *= 0.9; // 10% discount for members\n    }\n    return finalPrice.toFixed(2);\n  };\n  const calculateSuperCoinDiscount = product => {\n    const finalPrice = calculateFinalPrice(product);\n    const superCoinValue = user !== null && user !== void 0 && user.superCoins ? user.superCoins / 10 : 0;\n    return Math.max(0, finalPrice - superCoinValue).toFixed(2);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Welcome to eMart Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading products...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-grid\",\n      children: products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-card\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/product/${product.id}`,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.imageUrl,\n            alt: product.name,\n            className: \"product-image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Price: \\u20B9\", product.price.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this), (user === null || user === void 0 ? void 0 : user.isMember) && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"discounted-price\",\n          children: [\"Member Price: \\u20B9\", calculateFinalPrice(product)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this), (user === null || user === void 0 ? void 0 : user.superCoins) && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"supercoin-price\",\n          children: [\"SuperCoin Price: \\u20B9\", calculateSuperCoinDiscount(product)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this)]\n      }, product.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"i5q85qCL6gWhMynqc/V1SG/TPA4=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useContext","Link","ProductContext","jsxDEV","_jsxDEV","Dashboard","_s","products","setProducts","user","setUser","loading","setLoading","fetchUser","response","fetch","data","json","error","console","fetchProducts","calculateFinalPrice","product","finalPrice","price","isMember","toFixed","calculateSuperCoinDiscount","superCoinValue","superCoins","Math","max","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","to","id","src","imageUrl","alt","name","_c","$RefreshReg$"],"sources":["C:/Users/91970/Desktop/E-Mart-Group3/my-app/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"../../styles/dashboard.css\";\nimport { ProductContext } from \"../../context/ProductContext\";\n\nconst Dashboard = () => {\n  const { products, setProducts } = useContext(ProductContext);\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const response = await fetch(`http://localhost:8080/users/{userId}`);\n        const data = await response.json();\n        setUser(data);\n      } catch (error) {\n        console.error(\"Error fetching user:\", error);\n      }\n    };\n\n    const fetchProducts = async () => {\n      try {\n        const response = await fetch(\"http://localhost:8080/api/products\");\n        const data = await response.json();\n        setProducts(data);\n      } catch (error) {\n        console.error(\"Error fetching products:\", error);\n      }\n      setLoading(false);\n    };\n\n    fetchUser();\n    fetchProducts();\n  }, [setProducts]);\n\n  const calculateFinalPrice = (product) => {\n    let finalPrice = product.price;\n    if (user?.isMember) {\n      finalPrice *= 0.9; // 10% discount for members\n    }\n    return finalPrice.toFixed(2);\n  };\n\n  const calculateSuperCoinDiscount = (product) => {\n    const finalPrice = calculateFinalPrice(product);\n    const superCoinValue = user?.superCoins ? user.superCoins / 10 : 0;\n    return Math.max(0, finalPrice - superCoinValue).toFixed(2);\n  };\n\n  return (\n    <div className=\"dashboard\">\n      <h2>Welcome to eMart Dashboard</h2>\n      {loading ? (\n        <p>Loading products...</p>\n      ) : (\n        <div className=\"product-grid\">\n          {products.map((product) => (\n            <div key={product.id} className=\"product-card\">\n              <Link to={`/product/${product.id}`}>\n                <img src={product.imageUrl} alt={product.name} className=\"product-image\" />\n                <h3>{product.name}</h3>\n              </Link>\n              <p>Price: ₹{product.price.toFixed(2)}</p>\n              {user?.isMember && (\n                <p className=\"discounted-price\">Member Price: ₹{calculateFinalPrice(product)}</p>\n              )}\n              {user?.superCoins && (\n                <p className=\"supercoin-price\">SuperCoin Price: ₹{calculateSuperCoinDiscount(product)}</p>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}